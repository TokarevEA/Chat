
# Локальный Чат-приложение на C++

## Описание идеи решения:
Цель проекта - создание простого чат-приложения с возможностью регистрации, авторизации пользователей и обмена сообщениями между ними. Пользователи могут общаться как в личных, так и в групповых чатах.

## Инструкции по запуску

1. Склонируйте репозиторий на свой компьютер.
2. Убедитесь, что у вас установлен компилятор C++.
3. Скомпилируйте и запустите проект.

## Использование

1. При запуске приложения вам будет предложено зарегистрироваться или авторизоваться.
2. Для регистрации введите "1", для авторизации - "2".
3. После успешной авторизации вы сможете приступить к общению в групповых или персональных чатах.

## Файловая структура

- `screens.h` - файл с определениями функций для взаимодействия с пользовательским интерфейсом.
- `users.h` - файл с определениями функций для работы с пользователями.
- `messages.h` - файл с определениями функций для работы с сообщениями.
- `users.txt` - файл для хранения информации о пользователях.
- `messages.txt` - файл для хранения сообщений.

## Пользовательские типы и функции в проекте:
### Класс Users

Класс для работы с пользователями, включая методы регистрации, авторизации и проверки токена.

#### Методы:

- **Gen_token:** Генерирует токен сессии (по умолчанию 32 нуля).
- **Verify_token:** Проверяет соответствие текущего токена и токена в файле users.txt.
- **Search:** Получает строку (токен или логин) и ищет ее в файле users.txt.
- **Registration:** Получает логин, пароль и имя. Проверяет наличие такого логина в файле users.txt. Если совпадений не найдено, хэширует пароль, создает новый токен и записывает все данные в строку в файле.
- **Authorization:** Получает логин и пароль. Проверяет наличие такого логина в файле users.txt. Если совпадение найдено, сравнивает хэши входящего пароля и пароля из файла. Если совпадение найдено, в файл записывается новый токен.
- **Get_users_logins_map:** Записывает все логины из файла users.txt в тип map для дальнейшего использования в классе Screen.

#### Структура Data:

Структура для хранения данных о пользователе – логина, хэша пароля, токена сессии, имени. 
- Конструктор по умолчанию создает структуру с пустыми полями и позицией курсора -1. 
- Конструктор с аргументами получает строку с данными и позицию курсора. Строка разделяется на данные и записывается в соответствующие поля структуры.

### Класс Messages

Класс для работы с сообщениями, включая методы для чтения и записи сообщений, а также обработки личных и групповых сообщений.

#### Структура Message

Структура для хранения сообщений. 
- Конструктор по умолчанию создает структуру с пустыми полями и записывает текущее время.
- Конструктор с аргументами получает строку сообщения и разбивает ее на поля: логин автора, логин получателя, текст сообщения, время отправки.

#### Методы

- **Get_private_messages:** Получает логины отправителя и получателя, находит соответствующие строки в файле messages.txt, вызывает конструкторы структур Message для каждого сообщения и заполняет массив из 20 элементов.
- **Get_public_messages:** Аналогичен Get_private_messages. Заполняет массив структурами с групповыми сообщениями.
- **Send_message:** Создает строку сообщения и записывает ее в файл messages.txt.
- **Draw_chat_history:** Выводит сообщения на экран.

### Класс Screen

Класс для отображения экранов и взаимодействия с пользователем.

#### Методы

- **Registration:** Запрашивает у пользователя ввод логина, пароля и имени. Проверяет соответствие ввода ограничениям и вызывает метод регистрации, который уже сформирует строку в файле.
- **Authorization:** Запрашивает у пользователя ввод логина и пароля и вызывает метод авторизации.
- **SelectChat:** Выводит на экран список доступных чатов и запрашивает у пользователя выбор.
- **Chat:** Выводит на экран интерфейс и вызывает метод draw_chat_history для вывода на экран сообщений.


## Участники команды:
- Проект реализовал Токарев Евгений






